(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},160:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(57),a=n.n(c),s=(n(155),n(156),n(8)),i=n(16),o=(n(157),n(5)),u=n.n(o),l=n(9),j=n(18),d=n(15),h=n(0);function b(e){return Object(h.jsx)("span",{className:"error",children:e.error})}var m=n(211),p=n(212),O=n(140),x=n(206),f=n(214),g=n(210);function v(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var w={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:v,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=v();return e?JSON.parse(atob(e.split(".")[1])).user:null}},k="/api/users/";var C={signup:function(e){return fetch(k+"signup",{method:"POST",body:e}).then((function(e){if(e.ok)return e.json();throw new Error("Email already taken!")})).then((function(e){var t=e.token;return w.setToken(t)}))},logout:function(){w.removeToken()},login:function(e){return fetch(k+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials!")})).then((function(e){var t=e.token;return w.setToken(t)}))},getUser:function(){return w.getUserFromToken()},getProfile:function(e){return fetch(k+e,{headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials")}))}};n(160);function y(e){var t=Object(i.g)(),n=Object(r.useState)(""),c=Object(s.a)(n,2),a=c[0],o=c[1],v=Object(r.useState)(""),w=Object(s.a)(v,2),k=w[0],y=w[1],N=Object(r.useState)({username:"",password:"",confirmPassword:"",email:""}),S=Object(s.a)(N,2),A=S[0],L=S[1];function T(e){L(Object(d.a)(Object(d.a)({},A),{},Object(j.a)({},e.target.name,e.target.value)))}function W(){return(W=Object(l.a)(u.a.mark((function n(r){var c,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(a in r.preventDefault(),(c=new FormData).append("photo",k),A)c.append(a,A[a]);return n.prev=4,n.next=7,C.signup(c);case 7:e.handleSignUpOrLogin(),t.push("/mainphoto"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),o(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[4,11]])})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},className:"signupForm",children:[Object(h.jsxs)(p.a,{as:"h2",color:"teal",textAlign:"center",children:[Object(h.jsx)(O.a,{className:"signupLogo",src:"https://i.imgur.com/zWf0THW.png"})," ",Object(h.jsx)("span",{className:"signupText",children:"Sign Up "})]}),Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:function(e){return W.apply(this,arguments)},children:[Object(h.jsxs)(f.a,{stacked:!0,className:"signupForm",children:[Object(h.jsx)(x.a.Input,{name:"username",placeholder:"username",value:A.username,onChange:T,required:!0}),Object(h.jsx)(x.a.Input,{type:"email",name:"email",placeholder:"email",value:A.email,onChange:T,required:!0}),Object(h.jsx)(x.a.Input,{name:"password",type:"password",placeholder:"password",value:A.password,onChange:T,required:!0}),Object(h.jsx)(x.a.Input,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:A.confirmPassword,onChange:T,required:!0}),Object(h.jsx)(x.a.Field,{className:"signupForm",children:Object(h.jsx)(x.a.Input,{type:"file",name:"photo",placeholder:"upload image",onChange:function(e){y(e.target.files[0])},required:!0})}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"signupButton",children:"Signup"})]}),a?Object(h.jsx)(b,{error:a}):null]})]})})})}var N=n(11),S=(n(171),n(209));function A(e){var t=Object(i.g)(),n=Object(r.useState)(""),c=Object(s.a)(n,2),a=c[0],o=c[1],v=Object(r.useState)({password:"",email:""}),w=Object(s.a)(v,2),k=w[0],y=w[1];function A(e){y(Object(d.a)(Object(d.a)({},k),{},Object(j.a)({},e.target.name,e.target.value)))}function L(){return(L=Object(l.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,n.next=4,C.login(k);case 4:e.handleSignUpOrLogin(),t.push("/mainphoto"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),o(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsxs)(p.a,{as:"h2",textAlign:"center",children:[Object(h.jsx)(O.a,{className:"signupLogo",src:"https://i.imgur.com/zWf0THW.png"}),Object(h.jsx)("span",{className:"signupText",children:"Login to Share Space "})]}),Object(h.jsx)(x.a,{autoComplete:"off",onSubmit:function(e){return L.apply(this,arguments)},children:Object(h.jsxs)(f.a,{stacked:!0,children:[Object(h.jsx)(x.a.Input,{type:"email",name:"email",placeholder:"email",value:k.email,onChange:A,required:!0}),Object(h.jsx)(x.a.Input,{name:"password",type:"password",placeholder:"password",value:k.password,onChange:A,required:!0}),Object(h.jsx)(g.a,{color:"teal",fluid:!0,size:"large",type:"submit",className:"btn",id:"signupButton",children:"Login"})]})}),Object(h.jsxs)(S.a,{children:[Object(h.jsx)("span",{className:"btmText",children:"New to Share Space? "}),Object(h.jsx)(N.b,{to:"/signup",children:"Sign Up"})]}),a?Object(h.jsx)(b,{error:a}):null]})})})}n(172);var L=n(205),T=n(208);n(173);function W(e){var t=e.user,n=e.profileUser,r=e.posts;return e.error?Object(h.jsx)("h1",{children:"error!"}):r.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{className:"headerCard",children:Object(h.jsx)(T.a,{fluid:!0,header:t._id===n._id?"Your Posts":n.username+"'s Posts"})}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{itemsPerRow:3,children:r.map((function(e){return Object(h.jsx)(T.a,{as:N.b,image:e.photoUrl,to:"show/"+e._id},e._id)}))})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{className:"headerCard",children:Object(h.jsx)(T.a,{fluid:!0,header:t._id===n._id?"Your Posts":n.username+"'s Posts"})}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{className:"noPosts",children:"This user hasnt uploaded anyting yet!"})]})}n(174);function U(e){var t=e.user,n=e.profileUser,r=e.writings;return e.error?Object(h.jsx)("h1",{children:"error!"}):r.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{className:"headerCard",children:Object(h.jsx)(T.a,{fluid:!0,header:t._id===n._id?"Your Writings":n.username+"'s Writings"})}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{itemsPerRow:3,children:r.map((function(e){return Object(h.jsx)(T.a,{className:"titleCard",as:N.b,to:"writing/"+e._id,children:Object(h.jsx)(T.a.Content,{children:Object(h.jsx)("h4",{children:e.title})})},e._id)}))})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{className:"headerCard",children:Object(h.jsx)(T.a,{fluid:!0,header:t._id===n._id?"Your Writings":n.username+"'s Writings"})}),Object(h.jsx)("br",{}),Object(h.jsx)("h4",{className:"noPosts",children:"No Writings Yet..."})]})}n(83);var P=n(82);function E(e){var t=e.userRequest,n=e.requestFriend,r=e.posts,c=e.writings;return Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsxs)(T.a.Group,{className:"headerCardOther",children:[Object(h.jsx)(T.a,{fluid:!0,header:t.username}),Object(h.jsxs)("div",{className:"iconTextNon",children:[Object(h.jsx)("h5",{className:"firstRowText",children:"Add"}),Object(h.jsx)("h5",{className:"secondRowText",children:"Friend"})]}),Object(h.jsx)(N.b,{to:"/"+t.username,children:Object(h.jsx)(P.a,{className:"settingIcon",name:"add user",size:"large",onClick:function(){return n(t)}})})]}),Object(h.jsx)(O.a,{src:t.photoUrl,wrapped:!0,ui:!1}),Object(h.jsxs)(T.a.Content,{children:[Object(h.jsx)(T.a.Header,{textAlign:"center",children:Object(h.jsx)("h2",{className:"bioHeader",children:"Bio:"})}),Object(h.jsx)(T.a.Meta,{}),Object(h.jsx)(T.a.Description,{})]}),Object(h.jsxs)(T.a.Content,{extra:!0,children:[Object(h.jsxs)("a",{children:["Friends: \xa0\xa0",Object(h.jsx)(P.a,{name:"user"}),t.friends.length?t.friends.length:0]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Posts: \xa0",r.length?r.length:"None"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Writings: \xa0",c.length?c.length:"None"]})]})]})}function q(e){var t=e.userRequest,n=e.posts,r=e.writings;return Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsxs)(T.a.Group,{className:"headerCardOther",children:[Object(h.jsx)(T.a,{fluid:!0,header:t.username}),Object(h.jsxs)("div",{className:"iconTextNon",children:[Object(h.jsx)("h5",{className:"firstRowText",children:"You're"}),Object(h.jsx)("h5",{className:"secondRowText",children:"Friends!"})]}),Object(h.jsx)(P.a,{className:"settingIcon",name:"smile outline",size:"large"})]}),Object(h.jsx)(O.a,{src:t.photoUrl,wrapped:!0,ui:!1}),Object(h.jsx)(T.a.Content,{children:Object(h.jsx)(T.a.Header,{textAlign:"center",children:Object(h.jsx)("h2",{className:"bioHeader",children:"Bio:"})})}),Object(h.jsxs)(T.a.Content,{extra:!0,children:[Object(h.jsxs)("a",{children:["Friends: \xa0\xa0",Object(h.jsx)(P.a,{name:"user"}),t.friends.length?t.friends.length:0]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Posts: \xa0",n.length?n.length:"None"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Writings: \xa0",r.length?r.length:"None"]})]})]})}function B(e){var t=e.userRequest,n=e.posts,r=e.writings;return Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsxs)(T.a.Group,{className:"headerCardOtherRequest",children:[Object(h.jsx)(T.a,{fluid:!0,header:t.username}),Object(h.jsxs)("div",{className:"iconText",children:[Object(h.jsx)("h5",{className:"firstRowText",children:"Request"}),Object(h.jsx)("h5",{className:"secondRowText",children:"Pending"})]}),Object(h.jsx)(P.a,{className:"settingIcon",name:"wait",size:"large"})]}),Object(h.jsx)(O.a,{src:t.photoUrl,wrapped:!0,ui:!1}),Object(h.jsxs)(T.a.Content,{children:[Object(h.jsx)(T.a.Header,{textAlign:"center",children:Object(h.jsx)("h2",{className:"bioHeader",children:"Bio:"})}),Object(h.jsx)(T.a.Meta,{}),Object(h.jsx)(T.a.Description,{})]}),Object(h.jsxs)(T.a.Content,{extra:!0,children:[Object(h.jsxs)("a",{children:["Friends: \xa0\xa0",Object(h.jsx)(P.a,{name:"user"}),t.friends.length?t.friends.length:0]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Posts: \xa0",n.length?n.length:"None"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Writings: \xa0",r.length?r.length:"None"]})]})]})}function _(e){var t=e.userRequest,n=e.posts,r=e.writings;return Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsx)(T.a,{fluid:!0,header:t.username,id:"usernameHeader"}),Object(h.jsx)("br",{}),"  "]}),Object(h.jsx)(O.a,{src:t.photoUrl,wrapped:!0,ui:!1}),Object(h.jsxs)(T.a.Content,{children:[Object(h.jsx)(T.a.Header,{textAlign:"center",children:Object(h.jsx)("h2",{className:"bioHeader",children:"Bio:"})}),Object(h.jsx)(T.a.Meta,{}),Object(h.jsx)(T.a.Description,{})]}),Object(h.jsxs)(T.a.Content,{extra:!0,children:[Object(h.jsxs)(N.b,{to:"/friends",children:["Friends: \xa0",Object(h.jsx)(P.a,{name:"user"}),t.friends.length?t.friends.length:0]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Posts: \xa0",n.length?n.length:"None"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("a",{children:["Writings: \xa0",r.length?r.length:"None"]})]})]})}function D(e){for(var t=e.userRequest,n=e.loggedInUser,r=e.requestFriend,c=e.posts,a=e.writings,s=[],i=0;i<n.friendRequests.length;i++)s.push(n.friendRequests[i]._id);return t._id===n._id?Object(h.jsx)(_,{userRequest:t,loggedInUser:n,requestFriend:r,posts:c,writings:a}):t.friendRequests.includes(n._id)||s.includes(t._id)?Object(h.jsx)(B,{userRequest:t,posts:c,writings:a}):t.friends.includes(n._id)?Object(h.jsx)(q,{loggedInUser:n,userRequest:t,posts:c,writings:a}):t.friendRequests.includes(n._id)?void 0:Object(h.jsx)(E,{userRequest:t,requestFriend:r,posts:c,writings:a})}var z="/api/friends/";var F={friendRequest:function(e,t){return fetch(z+"request/".concat(e._id),{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error adding friend")})).then((function(e){return e}))},denyRequest:function(e){return fetch(z+"deny/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error denying request")})).then((function(e){var t=e.token;return w.setToken(t)}))},approveRequest:function(e){return fetch(z+"approve/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error accepting friend")})).then((function(e){var t=e.token;return w.setToken(t)}))},removeFriend:function(e){return fetch(z+"remove/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error removing friend")})).then((function(e){var t=e.token;return w.setToken(t)}))}};function R(e){var t=e.user,n=(e.handleSignUpOrLogin,Object(i.g)()),c=Object(r.useState)({}),a=Object(s.a)(c,2),o=a[0],j=a[1],d=Object(r.useState)(!0),b=Object(s.a)(d,2),O=b[0],x=b[1],f=Object(r.useState)(""),g=Object(s.a)(f,2),v=g[0],w=g[1],k=Object(r.useState)([]),y=Object(s.a)(k,2),N=y[0],S=y[1],A=Object(r.useState)([]),P=Object(s.a)(A,2),E=P[0],q=P[1],B=Object(i.i)().username;function _(){return(_=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getProfile(B);case 3:t=e.sent,j((function(){return t.user})),S((function(){return t.posts})),x(!1),q((function(){return t.writings})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w("The Profile You Are Looking For Does Not Exist - Please Check Spelling And/Or Casing");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(){return(z=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.friendRequest(t);case 2:n=e.sent,j(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[B]),v?(n.push("/404"),Object(h.jsx)("h1",{children:v})):O?Object(h.jsx)(m.a,{textAlign:"center",style:{height:"65vh"},verticalAlign:"middle",children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsx)(L.a,{size:"large",active:!0,children:"Loading"})})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(p.a,{floated:"right"}),Object(h.jsx)(D,{userRequest:o,loggedInUser:t,requestFriend:function(e){return z.apply(this,arguments)},posts:N,writings:E}),Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)(W,{error:v,user:t,profileUser:o,posts:N})}),Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)(U,{user:t,profileUser:o,writings:E})})]})})})}var I=n(107);var G={create:function(e){return fetch("/api/posts/create",{method:"POST",body:e,headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},createWriting:function(e){return fetch("/api/posts/createwriting",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+w.getToken()},body:JSON.stringify(e)}).then((function(e){return e.json()}))},getAllPhotoPosts:function(){return fetch("/api/posts/mainphoto/",{headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},updatePost:function(e){return fetch("/api/posts/updatepostphoto/"+e.id,{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+w.getToken()},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();new Error("Error updating post")})).then((function(e){return e}))},getPost:function(e){return fetch("/api/posts/show/"+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},deleteOne:function(e){return fetch("/api/posts/delete/"+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},deleteWriting:function(e){return fetch("/api/posts/deletewriting/"+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},getWriting:function(e){return fetch("/api/posts/writing/"+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},updateWriting:function(e){return fetch("/api/posts/updatewriting/"+e.id,{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+w.getToken()},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();new Error("Error adding friend")})).then((function(e){return e}))},getAllWritingPosts:function(){return fetch("/api/posts/mainwriting/",{headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))}};n(175),n(176);function H(e){var t=e.post,n=e.removeLike,r=e.addLike,c=e.user,a=N.b,s=t.likes,i=t.likes.findIndex((function(e){return e.username===c.username})),o=i>-1?function(){return n(t.likes[i]._id)}:function(){return r(t._id)},u=i>-1?"red":"grey",l=i>-1?"heart":"heart outline";return Object(h.jsx)(T.a,{style:{height:"fit-content"},children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsx)(T.a,{fluid:!0,id:"usernameHeader",children:Object(h.jsxs)(p.a,{as:"h2",className:"postUsername",floated:"right",children:[t.user.username,Object(h.jsx)(N.b,{to:"/"+t.user.username,children:Object(h.jsx)(O.a,{className:"postAvatar",src:t.user.photoUrl,avatar:!0,size:"large",floated:"left"})})]})}),Object(h.jsx)(T.a,{as:a,to:"show/"+t._id,centered:!0,raised:!0,image:t.photoUrl,size:"medium"}),Object(h.jsx)("div",{className:"goToContainer",children:Object(h.jsx)("h6",{children:"go to post to see comments"})}),Object(h.jsx)(T.a.Content,{children:Object(h.jsxs)(T.a.Description,{children:[Object(h.jsx)(f.a,{children:t.comment}),Object(h.jsx)(P.a,{className:"like",name:l,color:u,onClick:o,children:s.length?s.length:""})]})})]})})})}var M="/api/";var Y={addLike:function(e){return fetch("".concat(M,"posts/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error liking Post")}))},removeLike:function(e){return fetch("".concat(M,"likes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error removing like Post")}))},addLikeWriting:function(e){return fetch("".concat(M,"writings/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error liking Post")}))},removeLikeWriting:function(e){return fetch("".concat(M,"writinglikes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error removing like Post")}))},addLikeComment:function(e){return fetch("".concat(M,"comments/").concat(e,"/likes"),{method:"POST",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error liking Post")}))},removeLikeComment:function(e){return fetch("".concat(M,"commentlikes/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){if(e.ok)return e.json();new Error("Error removing like from commnent")}))}};function J(e){var t=e.user,n=Object(r.useState)([]),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(!0),j=Object(s.a)(o,2),d=j[0],b=j[1];function p(e){e.preventDefault(),b(!d)}function O(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getAllPhotoPosts();case 2:t=e.sent,i(Object(I.a)(t.posts));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLike(t);case 3:O(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.removeLike(t);case 3:O(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){O()}),[]),a.length<1?Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsx)(T.a,{fluid:!0,header:"Browse Posts:"}),Object(h.jsx)(g.a,{className:"toggleButton",id:"signupButton",onClick:p,children:!0===d?"showing recent":"showing oldest"})]}),Object(h.jsx)(f.a,{children:"No Posts Yet"})]})}):Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsx)(T.a,{fluid:!0,header:"Browse Posts:"}),Object(h.jsx)(g.a,{className:"toggleButton",id:"signupButton",onClick:p,children:!0===d?"showing recent":"showing oldest"})]}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{itemsPerRow:2,style:{height:"fit-content"},children:!0===d?Object(h.jsx)(h.Fragment,{children:a.slice(0).reverse().map((function(e){return Object(h.jsx)(H,{post:e,addLike:v,removeLike:k,user:t},e._id)}))}):Object(h.jsx)(h.Fragment,{children:a.map((function(e){return Object(h.jsx)(H,{post:e,addLike:v,removeLike:k,user:t},e._id)}))})})]})})}n(177);function X(e){var t=e.username,n=e.photo,c=e.handleSignUpOrLogin;function a(){return(a=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.removeFriend(t);case 3:c();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(T.a.Group,{className:"headerCard",children:["\xa0 \xa0 \xa0",Object(h.jsxs)(T.a.Content,{children:[t,Object(h.jsx)(T.a.Header,{textAlign:"center"}),Object(h.jsx)(N.b,{to:t,children:Object(h.jsx)(O.a,{src:n,avatar:!0})}),Object(h.jsx)(T.a.Meta,{}),Object(h.jsx)(T.a.Description,{})]}),Object(h.jsxs)(m.a.Row,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"buttonCont",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsx)("input",{type:"button",value:"Unfriend",className:"btn",id:"denyButton",onClick:function(e){return a.apply(this,arguments)}})]})]})]}),Object(h.jsx)("br",{})]})}n(178);function K(e){var t=e.user,n=e.handleSignUpOrLogin;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"friendCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"Friends List"})}),t.friends.length?"":Object(h.jsx)(p.a,{children:"No Requests Yet"}),t.friends.map((function(e){return Object(h.jsx)(X,{username:e.username,photo:e.photoUrl,handleSignUpOrLogin:n,user:t},e._id)}))]})})})}n(179);function V(e){var t=e.username,n=(e.user,e.photo),r=e.handleSignUpOrLogin;function c(){return(c=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.denyRequest(t);case 3:r();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.approveRequest(t);case 3:return e.next=5,r();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsxs)(T.a.Content,{text:"test",children:[t,Object(h.jsx)(T.a.Header,{}),Object(h.jsx)(N.b,{to:t,children:Object(h.jsx)(O.a,{src:n,avatar:!0})}),Object(h.jsx)(T.a.Meta,{}),Object(h.jsx)(T.a.Description,{})]}),Object(h.jsxs)(m.a.Row,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"buttonCont",children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0 \xa0 \xa0",Object(h.jsx)("input",{type:"button",value:"Accept",className:"btn",id:"acceptButton",onClick:function(e){return a.apply(this,arguments)}}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0",Object(h.jsx)("input",{type:"button",value:"Deny",className:"btn",id:"denyButton",onClick:function(e){return c.apply(this,arguments)}})]})]})]}),Object(h.jsx)("br",{})]})}n(180);function $(e){var t=e.user,n=e.handleSignUpOrLogin;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"Pending Requests"})}),t.friendRequests.length?"":Object(h.jsx)(p.a,{children:"No Requests Yet"}),t.friendRequests.map((function(e){return Object(h.jsx)(V,{username:e.username,photo:e.photoUrl,handleSignUpOrLogin:n,user:t},e._id)}))]})})})}n(181);function Q(e){var t=e.user,n=Object(i.g)(),c=Object(r.useState)(""),a=Object(s.a)(c,2),o=a[0],b=a[1],p=Object(r.useState)({comment:""}),O=Object(s.a)(p,2),v=O[0],w=O[1];function k(){return(k=Object(l.a)(u.a.mark((function e(r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),(c=new FormData).append("photo",o),c.append("comment",v.comment),e.next=6,G.create(c);case 6:n.push("/".concat(t.username));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"New Photo Post"})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:function(e){return k.apply(this,arguments)},children:[Object(h.jsx)(x.a.Input,{className:"form-control",type:"file",name:"photo",placeholder:"upload image",onChange:function(e){b(e.target.files[0])},required:!0}),Object(h.jsx)(x.a.Input,{style:{minHeight:100},className:"form-control",name:"comment",value:v.comment,placeholder:"add comment",onChange:function(e){w(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({},e.target.name,e.target.value)))},required:!0}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"addButton",children:"Create Post"})]})})]})})})}var Z=n(109);n(182);function ee(e){var t=e.user,n=(Object(i.g)(),Object(r.useState)("")),c=Object(s.a)(n,2),a=c[0],o=(c[1],Object(r.useState)("")),v=Object(s.a)(o,2),w=(v[0],v[1]),k=Object(r.useState)({username:"".concat(t.username),bio:"".concat(t.bio),user:t,photoUrl:t.photoUrl}),y=Object(s.a)(k,2),N=y[0],S=y[1];function A(e){S(Object(d.a)(Object(d.a)({},N),{},Object(j.a)({},e.target.name,e.target.value)))}function L(){return(L=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),C.UpdateProfile(N);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){S({username:t.username,bio:t.bio,user:t})}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{height:"65vh"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},className:"signupForm",children:[Object(h.jsxs)(p.a,{as:"h2",color:"teal",textAlign:"center",children:[Object(h.jsx)(O.a,{className:"signupLogo"})," ",Object(h.jsx)("span",{className:"updateText",children:"Profile Update"})]}),Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:function(e){return L.apply(this,arguments)},children:[Object(h.jsxs)(f.a,{stacked:!0,className:"signupForm",children:[Object(h.jsxs)(Z.a,{children:["Username: ",t.username]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(x.a.Input,{type:"username",name:"username",value:"username is unique and cannot be changed at this time",onChange:A,required:!0,disabled:!0}),Object(h.jsx)(Z.a,{children:"Bio:"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(x.a.Field,{className:"signupForm",children:Object(h.jsx)(x.a.TextArea,{type:"bio",name:"bio",value:N.bio,onChange:A,required:!0})}),Object(h.jsx)(Z.a,{children:"Profile Photo:"}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a,{raised:!0,centered:!0,image:t.photoUrl}),Object(h.jsx)(x.a.Field,{className:"signupForm",children:Object(h.jsx)(x.a.Input,{type:"file",name:"photo",placeholder:"upload image",onChange:function(e){w(e.target.files[0])}})}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"signupButton",children:"Update"})]}),a?Object(h.jsx)(b,{error:a}):null]})]})})})}n(183);function te(e){var t=e.user,n=e.handleSignUpOrLogin,c=e.handleLogout,a=Object(r.useState)(""),i=Object(s.a)(a,2),o=i[0],u=i[1];return t?Object(h.jsxs)(f.a,{clearing:!0,className:"navContainer",children:[Object(h.jsxs)(p.a,{as:"h2",floated:"right",children:[Object(h.jsx)(N.b,{to:"/mainphoto",children:Object(h.jsx)(P.a,{name:"camera retro",onMouseEnter:function(){return u("mainPhoto")},onMouseLeave:function(){return u("")}})}),"mainPhoto"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"mainPhoto",children:"Post Feed"})}):"",Object(h.jsx)(N.b,{to:"/mainwriting",onMouseEnter:function(){return u("mainWriting")},onMouseLeave:function(){return u("")},children:Object(h.jsx)(P.a,{name:"copy"})}),"mainWriting"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"mainWriting",children:"Writing Feed"})}):"",Object(h.jsx)(N.b,{to:"/notifications"}),Object(h.jsx)(N.b,{to:"/requests",children:Object(h.jsx)(P.a,{name:"wait",onMouseEnter:function(){return u("requests")},onMouseLeave:function(){return u("")},children:Object(h.jsx)("div",{className:"requestNumberContainer",children:Object(h.jsx)("span",{className:"requestNumber",children:t.friendRequests.length?t.friendRequests.length:""})})})}),"requests"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"requests",children:"Requests"})}):"",Object(h.jsx)(N.b,{to:"/friends",children:Object(h.jsx)(P.a,{name:"handshake",onMouseEnter:function(){return u("friends")},onMouseLeave:function(){return u("")},children:Object(h.jsx)("div",{className:"friendNumberContainer",children:Object(h.jsx)("span",{className:"friendNumber",children:t.friends.length?t.friends.length:""})})})}),"friends"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"friends",children:"Friends"})}):"",Object(h.jsx)(N.b,{to:"/"+t.username,onMouseEnter:function(){return u("profile")},onMouseLeave:function(){return u("")},onClick:n,children:Object(h.jsx)(P.a,{name:"user circle outline"})}),"profile"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"profile",children:"Profile"})}):"",Object(h.jsx)(N.b,{to:"/addpost",onMouseEnter:function(){return u("post")},onMouseLeave:function(){return u("")},children:Object(h.jsx)(P.a,{name:"plus square outline"})}),"post"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"post",children:"Add Post"})}):"",Object(h.jsx)(N.b,{to:"/addwriting",onMouseEnter:function(){return u("writing")},onMouseLeave:function(){return u("")},children:Object(h.jsx)(P.a,{name:"pencil alternate",children:Object(h.jsx)("div",{className:"writingSymbolContainer",children:Object(h.jsx)("span",{className:"writingSymbol",children:"+"})})})}),"writing"===o?Object(h.jsx)("div",{className:"iconMsgCont",children:Object(h.jsx)("h5",{className:"iconName",id:"writing",children:"Add Writing"})}):"",Object(h.jsx)(N.b,{to:"",onClick:c,children:Object(h.jsx)("span",{className:"logoutText",children:"Logout"})})]}),Object(h.jsx)(p.a,{as:"h2",floated:"left",children:Object(h.jsx)(N.b,{to:"/",children:Object(h.jsx)(O.a,{className:"headerLogo",src:"https://i.imgur.com/zWf0THW.png",size:"mini"})})})]}):Object(h.jsxs)(f.a,{clearing:!0,className:"navContainer",children:[Object(h.jsx)(p.a,{as:"h2",floated:"left",children:Object(h.jsx)(N.b,{to:"/",children:Object(h.jsx)(O.a,{className:"headerLogo",src:"https://i.imgur.com/zWf0THW.png",size:"mini"})})}),Object(h.jsx)(p.a,{as:"h2",floated:"right",children:Object(h.jsx)(N.b,{to:"/login",children:Object(h.jsx)("span",{className:"logoutText",children:"Login"})})})]})}n(184),n(185);var ne="/api/comments/";var re={addWritingComment:function(e){return fetch("".concat(ne,"writing/").concat(e.writingId,"/addcomment"),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+w.getToken()},body:JSON.stringify(e)}).then((function(e){return e.json()}))},deleteWritingComment:function(e){return fetch("".concat(ne,"delete/")+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},getComment:function(e){return fetch("".concat(ne,"comment/")+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))},addPhotoComment:function(e){return fetch("".concat(ne,"post/").concat(e.postId,"/addcomment"),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+w.getToken()},body:JSON.stringify(e)}).then((function(e){return e.json()}))},deletePostComment:function(e){return fetch("".concat(ne,"delete/")+e,{method:"GET",headers:{Authorization:"Bearer "+w.getToken()}}).then((function(e){return e.json()}))}};function ce(e){var t=e.post,n=e.user,r=e.addLike,c=e.removeLike,a=e.handleChange,s=e.handleCommentSubmit,o=e.commentsAndUsers,j=e.toggleDropdown,d=(e.dropdown,e.addLikeComment),b=e.removeLikeComment,v=e.menu,w=e.comment,k=e.handleDeleteComment,C=e.setShow,y=e.show,A=Object(i.g)(),L=t.post.likes,W=t.post.likes.findIndex((function(e){return e.username===n.username})),U=W>-1?function(){return c(t.post.likes[W]._id)}:function(){return r(t.post._id)},E=W>-1?"red":"grey",q=W>-1?"heart":"heart outline";function B(){return(B=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,G.deleteOne(t.post._id);case 3:A.push("/"+n.username);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),A.push("/updatepost/".concat(t.post._id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){e.preventDefault(),C(!y)}function z(e){return F.apply(this,arguments)}function F(){return(F=Object(l.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.getComment(t.target.id);case 3:r=e.sent,(c=r.comment.likes.findIndex((function(e){return e.username===n.username})))>-1?b(r.comment.likes[c]._id):d(r.comment._id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=!0===y?"comment":"comment outline";return Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsx)(T.a,{fluid:!0,id:"usernameHeader",children:Object(h.jsxs)(p.a,{as:"h2",className:"postUsername",floated:"right",children:[t.postUser.username,Object(h.jsx)(N.b,{to:"/"+t.postUser.username,children:Object(h.jsx)(O.a,{className:"postAvatar",to:"/",src:t.postUser.photoUrl,avatar:!0,size:"large",floated:"left"})})]})}),Object(h.jsx)(T.a,{centered:!0,raised:!0,image:t.post.photoUrl,size:"medium"}),Object(h.jsx)(T.a.Content,{children:Object(h.jsxs)(T.a.Description,{children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)("span",{className:"postBio",children:"Comment:"}),Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),t.post.comment]}),n._id===t.postUser._id?Object(h.jsxs)(T.a.Group,{itemsPerRow:2,children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(g.a,{onClick:function(e){return _.apply(this,arguments)},children:"Update"})}),Object(h.jsx)(T.a,{children:Object(h.jsx)(g.a,{onClick:function(e){return B.apply(this,arguments)},children:"Delete"})})]}):null,Object(h.jsx)("br",{}),Object(h.jsxs)(P.a,{name:R,onClick:D,children:["\xa0",o.length?o.length:""]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0",Object(h.jsxs)(P.a,{className:"heartIcon",onClick:U,name:q,color:E,children:["\xa0",L.length?L.length:""]})]})})]}),!0===y?Object(h.jsx)(T.a,{fluid:!0,children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)(x.a.TextArea,{name:"comment",placeholder:"comment",onChange:a}),Object(h.jsxs)("div",{children:[Object(h.jsx)(g.a,{id:"signupButton",className:"btn",size:"tiny",onClick:s,children:"Add Comment"}),Object(h.jsx)("div",{className:"closeBtn",onClick:D,children:"X"})]})]})}):"",Object(h.jsx)(T.a,{fluid:!0,header:"Comments:",id:"usernameHeader"}),Object(h.jsx)(f.a,{children:o.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(S.a,{floating:!0,children:[e.comment.user===n._id?Object(h.jsx)(P.a,{name:"ellipsis horizontal",onClick:j,id:e.comment._id,className:"threeDots",children:""}):"",Object(h.jsxs)(N.b,{to:"/",children:[e.user.username,":\xa0"]}),Object(h.jsx)("span",{className:"comment",children:e.comment.comment}),!0===v&&w===e.comment._id?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g.a,{className:"btn",size:"tiny",onClick:k,children:"Delete"})," ",Object(h.jsx)(g.a,{className:"btn",size:"tiny",children:"Update"})]}):""]},e.comment._id),Object(h.jsx)("div",{className:"heartContainer",children:Object(h.jsxs)(P.a,{name:e.comment.likes.findIndex((function(e){return e.username===n.username}))>-1?"heart":"heart outline",color:e.comment.likes.findIndex((function(e){return e.username===n.username}))>-1?"red":"grey",id:e.comment._id,onClick:z,className:"heartOutline",children:[" ",Object(h.jsxs)("div",{className:"counterContainer",children:["\xa0",e.comment.likes.length?e.comment.likes.length:""]})]})})]})}))})]})})}function ae(e){var t=e.user,n=Object(i.i)().id,c=Object(i.g)(),a=Object(r.useState)(!0),o=Object(s.a)(a,2),b=o[0],p=o[1],O=Object(r.useState)({}),x=Object(s.a)(O,2),f=x[0],g=x[1],v=Object(r.useState)([]),w=Object(s.a)(v,2),k=w[0],C=w[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),S=N[0],A=N[1],T=Object(r.useState)(!1),W=Object(s.a)(T,2),U=W[0],P=W[1],E=Object(r.useState)(!1),q=Object(s.a)(E,2),B=q[0],_=q[1],D=Object(r.useState)(""),z=Object(s.a)(D,2),F=z[0],R=z[1],I=Object(r.useState)({comment:"",postId:n}),H=Object(s.a)(I,2),M=H[0],J=H[1];function X(e){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getPost(t);case 2:n=e.sent,g(n),C(n.commentsAndUser);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLike(t);case 3:X(n),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.deleteWritingComment(F);case 3:X(n),c.push("post/".concat(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.removeLike(t);case 3:X(n),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Z(){return(Z=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.addPhotoComment(M);case 3:return e.next=5,X(n);case 5:_(!B);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLikeComment(t);case 3:X(n),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function te(){return(te=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.removeLikeComment(t);case 3:X(n),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,G.getPost(t);case 3:n=e.sent,g(n),C(n.commentsAndUser),p(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(n)}),[]),b?Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsx)(L.a,{size:"large",active:!0,children:"Loading"})})}):Object(h.jsx)(ce,{post:f,user:t,removeLike:function(e){return Q.apply(this,arguments)},addLike:function(e){return V.apply(this,arguments)},handleCommentSubmit:function(e){return Z.apply(this,arguments)},menu:U,handleDeleteComment:function(e){return $.apply(this,arguments)},handleChange:function(e){J(Object(d.a)(Object(d.a)({},M),{},Object(j.a)({},e.target.name,e.target.value)))},commentsAndUsers:k,toggleDropdown:function(e){e.preventDefault(),A(!S),R(e.target.id),P(!U)},dropdown:S,addLikeComment:function(e){return ee.apply(this,arguments)},comment:F,removeLikeComment:function(e){return te.apply(this,arguments)},setShow:_,show:B})}n(186);function se(e){var t=e.user,n=Object(i.g)(),c=Object(r.useState)({title:"",content:"",user:t}),a=Object(s.a)(c,2),o=a[0],b=a[1];function p(){return(p=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,G.createWriting(o);case 3:n.push("/".concat(t.username));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){b(Object(d.a)(Object(d.a)({},o),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"Add New Writing"})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(h.jsx)(x.a.Input,{className:"form-control",name:"title",placeholder:"title for your writing",onChange:O,required:!0}),Object(h.jsx)(x.a.TextArea,{style:{minHeight:100},className:"form-control",name:"content",value:o.content,placeholder:"add writing content",onChange:O,required:!0}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"addButton",children:"Post Your Thoughts"})]})})]})})})}n(187),n(188);function ie(e){var t=e.writing,n=e.user,r=e.addLikeWriting,c=e.addLikeComment,a=e.removeLikeComment,s=e.removeLikeWriting,o=e.handleCommentSubmit,j=e.handleChange,d=e.commentsAndUsers,b=e.handleDeleteComment,v=e.toggleDropdown,w=e.menu,k=(e.dropdown,e.comment),C=e.show,y=e.setShow,A=Object(i.g)(),L=t.writing.likes,W=t.writing.likes.findIndex((function(e){return e.username===n.username}));function U(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(u.a.mark((function e(t){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.getComment(t.target.id);case 3:r=e.sent,(s=r.comment.likes.findIndex((function(e){return e.username===n.username})))>-1?a(r.comment.likes[s]._id):c(r.comment._id);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=W>-1?function(){return s(t.writing.likes[W]._id)}:function(){return r(t.writing._id)},B=W>-1?"red":"grey",_=W>-1?"heart":"heart outline";function D(e){e.preventDefault(),y(!C)}function z(){return(z=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,G.deleteWriting(t.writing._id);case 3:A.push("/"+n.username);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),A.push("/updatewriting/".concat(t.writing._id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=!0===C?"comment":"comment outline";return Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsx)(T.a,{fluid:!0,id:"usernameHeader",children:Object(h.jsxs)(p.a,{as:"h2",className:"postUsername",floated:"right",children:["Author: \xa0\xa0",t.writingUser.username,Object(h.jsx)(N.b,{to:"/"+t.writingUser.username,children:Object(h.jsx)(O.a,{className:"postAvatar",to:"/",src:t.writingUser.photoUrl,avatar:!0,size:"large",floated:"left"})})]})}),Object(h.jsx)(T.a,{centered:!0,raised:!0,as:"h4",header:t.writing.title}),Object(h.jsx)(T.a.Content,{children:Object(h.jsxs)(T.a.Description,{children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)("br",{}),t.writing.content]}),n._id===t.writingUser._id?Object(h.jsxs)(T.a.Group,{itemsPerRow:2,children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(g.a,{onClick:function(e){return F.apply(this,arguments)},children:"Update"})}),Object(h.jsx)(T.a,{children:Object(h.jsx)(g.a,{onClick:function(e){return z.apply(this,arguments)},children:"Delete"})})]}):null,Object(h.jsx)("br",{}),Object(h.jsxs)(P.a,{name:R,onClick:D,children:["\xa0",d.length?d.length:""]}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0 \xa0 \xa0 \xa0",Object(h.jsxs)(P.a,{className:"heartIcon",name:_,color:B,onClick:q,children:["\xa0",L.length?L.length:""]})]})})]}),!0===C?Object(h.jsx)(T.a,{fluid:!0,children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)(x.a.TextArea,{name:"comment",placeholder:"comment",onChange:j}),Object(h.jsxs)("div",{children:[Object(h.jsx)(g.a,{id:"signupButton",className:"btn",size:"tiny",onClick:o,children:"Add Comment"}),Object(h.jsx)("div",{className:"closeBtn",onClick:D,children:"X"})]})]})}):"",Object(h.jsx)(T.a,{fluid:!0,header:"Comments:",id:"usernameHeader"}),Object(h.jsx)(f.a,{children:d.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(S.a,{floating:!0,children:[e.comment.user===n._id?Object(h.jsx)(P.a,{name:"ellipsis horizontal",onClick:v,id:e.comment._id,children:""}):"",Object(h.jsxs)(N.b,{to:"/",children:[e.user.username,":\xa0"]}),Object(h.jsx)("span",{className:"comment",children:e.comment.comment}),!0===w&&k===e.comment._id?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g.a,{className:"btn",size:"tiny",onClick:b,children:"Delete"})," ",Object(h.jsx)(g.a,{className:"btn",size:"tiny",children:"Update"})]}):""]},e.comment._id),Object(h.jsx)("div",{className:"heartContainer",children:Object(h.jsxs)(P.a,{name:e.comment.likes.findIndex((function(e){return e.username===n.username}))>-1?"heart":"heart outline",color:e.comment.likes.findIndex((function(e){return e.username===n.username}))>-1?"red":"grey",id:e.comment._id,onClick:U,className:"heartOutline",children:[" ",Object(h.jsxs)("div",{className:"counterContainer",children:["\xa0",e.comment.likes.length?e.comment.likes.length:""]})]})})]})}))})]})})}function oe(e){var t=e.user,n=Object(i.g)(),c=Object(i.i)().id,a=Object(r.useState)(!0),o=Object(s.a)(a,2),b=o[0],p=o[1],O=Object(r.useState)({}),x=Object(s.a)(O,2),f=x[0],g=x[1],v=Object(r.useState)(!1),w=Object(s.a)(v,2),k=w[0],C=w[1],y=Object(r.useState)(""),N=Object(s.a)(y,2),S=N[0],A=N[1],T=Object(r.useState)(!1),W=Object(s.a)(T,2),U=W[0],P=W[1],E=Object(r.useState)(!1),q=Object(s.a)(E,2),B=q[0],_=q[1],D=Object(r.useState)([]),z=Object(s.a)(D,2),F=z[0],R=z[1],I=Object(r.useState)({comment:"",writingId:c}),H=Object(s.a)(I,2),M=H[0],J=H[1];function X(e){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getWriting(t);case 2:n=e.sent,g(n),R(n.commentsAndUser);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c),e.prev=1,e.next=4,Y.removeLikeWriting(t);case 4:X(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.addWritingComment(M);case 3:return e.next=5,X(c);case 5:_(!B);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLikeWriting(t);case 3:X(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Z(){return(Z=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLikeComment(t);case 3:X(c),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ee(){return(ee=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.removeLikeComment(t);case 3:X(c),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function te(){return(te=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,re.deleteWritingComment(S);case 3:X(c),n.push("/writing/".concat(c));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,G.getWriting(t);case 3:n=e.sent,g(n),R(n.commentsAndUser),p(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(c)}),[]),b?Object(h.jsx)(m.a,{textAlign:"center",style:{height:"65vh"},verticalAlign:"middle",children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsx)(L.a,{size:"large",active:!0,children:"Loading"})})}):Object(h.jsx)(ie,{writing:f,handleChange:function(e){J(Object(d.a)(Object(d.a)({},M),{},Object(j.a)({},e.target.name,e.target.value)))},user:t,commentsAndUsers:F,handleCommentSubmit:function(e){return $.apply(this,arguments)},removeLikeWriting:function(e){return V.apply(this,arguments)},addLikeWriting:function(e){return Q.apply(this,arguments)},handleDeleteComment:function(e){return te.apply(this,arguments)},menu:U,dropdown:k,comment:S,toggleDropdown:function(e){e.preventDefault(),C(!k),A(e.target.id),P(!U)},addLikeComment:function(e){return Z.apply(this,arguments)},removeLikeComment:function(e){return ee.apply(this,arguments)},show:B,setShow:_})}n(189);function ue(e){var t=e.handleChange,n=e.handleSubmit,c=e.test,a=e.input;return function(e){Object(r.useEffect)((function(){c()}),[]);var n=Object(i.g)();function e(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,G.updateWriting(a);case 3:n.push("/writing/".concat(a.id));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"Changing your thought?"})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:e,children:[Object(h.jsx)(x.a.Input,{className:"form-control",name:"title",value:a.title,placeholder:"title for your writing",onChange:t,required:!0}),Object(h.jsx)(x.a.TextArea,{style:{minHeight:100},className:"form-control",name:"content",value:a.content,placeholder:"add writing content",onChange:t,required:!0}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"addButton",onClick:e,children:"Update Writing"})]})})]})})})}(n)}function le(e){var t=e.user,n=Object(i.i)().id,c=Object(r.useState)(!0),a=Object(s.a)(c,2),o=a[0],b=a[1],p=Object(r.useState)({}),O=Object(s.a)(p,2),x=O[0],f=O[1],g=Object(r.useState)({title:"",content:"",user:t,id:""}),v=Object(s.a)(g,2),w=v[0],k=v[1];function C(){return(C=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,G.getWriting(t);case 3:n=e.sent,f(n),b(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(r.useEffect)((function(){!function(e){C.apply(this,arguments)}(n)}),[]),o)return Object(h.jsx)(m.a,{textAlign:"center",style:{height:"65vh"},verticalAlign:"middle",children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsx)(L.a,{size:"large",active:!0,children:"Loading"})})});return Object(h.jsx)(ue,{handleChange:function(e){k(Object(d.a)(Object(d.a)({},w),{},Object(j.a)({},e.target.name,e.target.value)))},test:function(){k({title:x.writing.title,content:x.writing.content,id:x.writing._id})},input:w})}n(190),n(191);function je(e){var t=e.writing,n=e.removeLikeWriting,r=e.addLikeWriting,c=e.user,a=N.b,s=t.likes.findIndex((function(e){return e.username===c.username})),i=s>-1?function(){return n(t.likes[s]._id)}:function(){return r(t._id)},o=s>-1?"red":"grey",u=s>-1?"heart":"heart outline";return Object(h.jsx)(T.a,{style:{height:"fit-content"},children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsxs)(T.a,{centered:!0,className:"profileCard",children:[Object(h.jsx)(T.a,{fluid:!0,id:"usernameHeader",children:Object(h.jsxs)(p.a,{as:"h2",className:"postUsername",floated:"right",children:[t.user.username,Object(h.jsx)(N.b,{to:"/"+t.user.username,children:Object(h.jsx)(O.a,{className:"postAvatar",src:t.user.photoUrl,avatar:!0,size:"large",floated:"left"})})]})}),Object(h.jsx)(T.a,{as:a,to:"writing/"+t._id,centered:!0,raised:!0,size:"medium",children:Object(h.jsxs)("h6",{className:"writingTitle",children:[Object(h.jsx)("span",{className:"title",children:"Title:"}),"  "+t.title," here"]})}),Object(h.jsx)(T.a.Content,{children:Object(h.jsxs)(T.a.Description,{children:[Object(h.jsx)(f.a,{children:Object(h.jsx)("div",{className:"goToContainerWriting",children:Object(h.jsx)("h6",{children:"Click title for more"})})}),Object(h.jsx)(P.a,{className:"like",name:u,color:o,onClick:i,children:t.likes.length?t.likes.length:""})]})})]})})})}function de(e){var t=e.user,n=Object(r.useState)([]),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useState)(!0),j=Object(s.a)(o,2),d=j[0],b=j[1];function p(e){e.preventDefault(),b(!d)}function O(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getAllWritingPosts();case 2:t=e.sent,i(Object(I.a)(t.writings));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.addLikeWriting(t);case 3:O(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.removeLikeWriting(t);case 3:O(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){O()}),[]),a.length<1?Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsx)(T.a,{fluid:!0,header:"Browse Writings:"}),Object(h.jsx)(g.a,{className:"toggleButton",id:"signupButton",onClick:p,children:!0===d?"showing recent":"showing oldest"})]}),Object(h.jsx)(f.a,{children:"No Writings Yet"})]})}):Object(h.jsx)(m.a,{textAlign:"center",style:{margin:"20px"},verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)(T.a.Group,{className:"headerCard",children:[Object(h.jsx)(T.a,{fluid:!0,header:"Browse Posts:"}),Object(h.jsx)(g.a,{className:"toggleButton",id:"signupButton",onClick:p,children:!0===d?"showing recent":"showing oldest"})]}),Object(h.jsx)("br",{}),Object(h.jsx)(T.a.Group,{itemsPerRow:2,children:!0===d?Object(h.jsx)(h.Fragment,{children:a.slice(0).reverse().map((function(e){return Object(h.jsx)(je,{writing:e,addLikeWriting:v,removeLikeWriting:k,user:t},e._id)}))}):Object(h.jsx)(h.Fragment,{children:a.map((function(e){return Object(h.jsx)(je,{writing:e,addLikeWriting:v,removeLikeWriting:k,user:t},e._id)}))})})]})})}var he=n(207);n(192);function be(e){var t=e.user,n=Object(r.useState)(!0),c=Object(s.a)(n,2),a=c[0],o=c[1],u=Object(r.useState)(!0),l=Object(s.a)(u,2),j=l[0],d=l[1],b=Object(i.g)();return Object(r.useEffect)((function(){d(!0)}),[]),!0===a?Object(h.jsxs)(he.a,{closeIcon:!0,open:j,onClose:function(){return o(!1)},onOpen:function(){return d(!0)},children:[Object(h.jsx)(p.a,{style:{background:"ivory"},textAlign:"center",children:"Welcome to Share Space"}),Object(h.jsx)(O.a,{className:"logoGif",src:"https://i.imgur.com/S9tbSpK.gif"}),Object(h.jsx)(f.a,{id:"homeText",floating:!0,children:Object(h.jsxs)(p.a,{textAlign:"centered",children:["Share Space is a place to share, meet,",Object(h.jsx)("br",{}),"and connect with like minded individuals.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Join us today!"]})}),Object(h.jsxs)(m.a.Row,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"homeButtonContainer",children:[Object(h.jsx)("input",{type:"button",value:"Signup",className:"homeButton",id:"homeButton",onClick:function(e){e.preventDefault(),b.push("/signup")}}),Object(h.jsx)("input",{type:"button",value:"Login",className:"homeButton",id:"homeButton",onClick:function(e){e.preventDefault(),b.push("/login")}})]})]})]}):(t?b.push("/mainPhoto"):b.push("/login"),Object(h.jsx)("h1",{children:"...Redirecting"}))}n(193);function me(){return Object(h.jsx)("div",{className:"imageContainer",children:Object(h.jsx)(O.a,{className:"error",src:"https://i.imgur.com/EV5DyAm.png"})})}function pe(e){var t=e.handleChange,n=e.handleSubmit,c=e.test,a=e.input;return function(e){Object(r.useEffect)((function(){c()}),[]);var n=Object(i.g)();function e(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,G.updatePost(a);case 3:n.push("/show/".concat(a.id));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m.a,{textAlign:"center",verticalAlign:"middle",children:Object(h.jsxs)(m.a.Column,{style:{maxWidth:450},children:[Object(h.jsx)(T.a,{centered:!0,className:"profileCard",children:Object(h.jsx)("h1",{className:"requestsHeader",children:"Changing your thought?"})}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(x.a,{autoComplete:"off",onSubmit:e,children:[Object(h.jsx)(x.a.TextArea,{style:{minHeight:100},className:"form-control",name:"content",value:a.content,placeholder:"add post comment",onChange:t,required:!0}),Object(h.jsx)(g.a,{type:"submit",className:"btn",id:"addButton",onClick:e,children:"Update Post"})]})})]})})})}(n)}function Oe(e){var t=e.user,n=Object(i.i)().id,c=Object(r.useState)(!0),a=Object(s.a)(c,2),o=a[0],b=a[1],p=Object(r.useState)({}),O=Object(s.a)(p,2),x=O[0],f=O[1],g=Object(r.useState)({content:"",user:t,id:""}),v=Object(s.a)(g,2),w=v[0],k=v[1];function C(){return(C=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,G.getPost(t);case 3:n=e.sent,f(n),b(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(r.useEffect)((function(){!function(e){C.apply(this,arguments)}(n)}),[]),o)return Object(h.jsx)(m.a,{textAlign:"center",style:{height:"65vh"},verticalAlign:"middle",children:Object(h.jsx)(m.a.Column,{style:{maxWidth:450},children:Object(h.jsx)(L.a,{size:"large",active:!0,children:"Loading"})})});return Object(h.jsx)(pe,{handleChange:function(e){k(Object(d.a)(Object(d.a)({},w),{},Object(j.a)({},e.target.name,e.target.value)))},test:function(){k({content:x.post.comment,id:x.post._id})},input:w})}var xe=function(){var e=Object(i.g)(),t=Object(r.useState)(C.getUser()),n=Object(s.a)(t,2),c=n[0],a=n[1],o=Object(i.h)();function u(){a(C.getUser())}function l(){w.removeToken(),C.logout(),a(null),e.push("/login")}return Object(h.jsxs)("div",{className:"App",children:["/"===o.pathname?null:Object(h.jsx)(te,{user:c,handleSignUpOrLogin:u,handleLogout:l}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{exact:!0,path:"/login",children:Object(h.jsx)(A,{handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/signup",children:Object(h.jsx)(y,{handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/",children:Object(h.jsx)(be,{user:c})}),Object(h.jsx)(i.b,{exact:!0,path:"/404",children:Object(h.jsx)(me,{})}),c?Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{exact:!0,path:"/update",children:Object(h.jsx)(ee,{user:c,handleLogout:l})}),Object(h.jsx)(i.b,{exact:!0,path:"/mainphoto",children:Object(h.jsx)(J,{user:c,handleLogout:l})}),Object(h.jsx)(i.b,{exact:!0,path:"/mainwriting",children:Object(h.jsx)(de,{user:c,handleLogout:l})}),Object(h.jsx)(i.b,{exact:!0,path:"/friends",children:Object(h.jsx)(K,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/requests",children:Object(h.jsx)($,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/addpost",children:Object(h.jsx)(Q,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/addwriting",children:Object(h.jsx)(se,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/updatewriting/:id",children:Object(h.jsx)(le,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/updatepost/:id",children:Object(h.jsx)(Oe,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{path:"/show/:id",children:Object(h.jsx)(ae,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{path:"/writing/:id",children:Object(h.jsx)(oe,{user:c,handleLogout:l,handleSignUpOrLogin:u})}),Object(h.jsx)(i.b,{exact:!0,path:"/:username",children:Object(h.jsx)(R,{user:c,handleLogout:l,handleSignUpOrLogin:u})})]}):Object(h.jsx)(i.a,{to:"/"})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(h.jsx)(N.a,{children:Object(h.jsx)(xe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.39d8ea37.chunk.js.map